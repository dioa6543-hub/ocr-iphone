<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <title>OCR â€“ bouton visible iPhone</title>
  <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <link rel="icon" type="image/png" href="https://dioa6543-hub.github.io/ocr-iphone/logo.png">
  <link rel="apple-touch-icon" sizes="512x512" href="https://dioa6543-hub.github.io/ocr-iphone/logo.png">
  <style>
    html,body{margin:0;height:100%;background:url("image.jpg") center/cover no-repeat fixed;font-family:system-ui;color:#fff;text-shadow:0 0 4px #000}
    button{width:100%;max-width:400px;padding:.9rem;font-size:1.2rem;margin:.5rem auto;display:block}
    textarea{width:100%;max-width:600px;height:180px;font-size:1rem;margin:auto;display:block}
    #langBox{text-align:center;margin:1rem auto;max-width:600px;background:rgba(0,0,0,.4);border-radius:8px;padding:.5rem}
    #langBox select{font-size:1rem;padding:.3rem}
  </style>
</head>
<body>

<!-- Langue -->
<div id="langBox">
  <label>ğŸŒ Langue : </label>
  <select id="langSel">
    <option value="fr">FranÃ§ais</option>
    <option value="en">English</option>
    <option value="es">EspaÃ±ol</option>
    <option value="ar">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
    <option value="zh">ä¸­æ–‡</option>
    <option value="it">Italiano</option>
    <option value="de">Deutsch</option>
    <option value="pt">PortuguÃªs</option>
    <option value="ru">Ğ ÑƒÑÑĞºĞ¸Ğ¹</option>
  </select>
</div>

<!-- Bouton visible partout -->
<button id="loadTxtBtn">ğŸ“ Fichier</button>
<input type="file" id="txtInput" accept=".txt,.text" style="display:none">

<!-- Texte -->
<h3 id="outTitle">Texte :</h3>
<textarea id="out" placeholder="Texte apparaÃ®tra iciâ€¦"></textarea>

<!-- Actions -->
<button id="readBtn">ğŸ”Š Lire</button>

<script>
  /* TRADUCTIONS 9 langues */
  const texts={
    fr:{loadTxtBtn:"ğŸ“ Fichier",outTitle:"Texte :",readBtn:"ğŸ”Š Lire",placeholderOut:"Texte apparaÃ®tra iciâ€¦"},
    en:{loadTxtBtn:"ğŸ“ File",outTitle:"Text :",readBtn:"ğŸ”Š Read",placeholderOut:"Text will appear hereâ€¦"},
    es:{loadTxtBtn:"ğŸ“ Archivo",outTitle:"Texto :",readBtn:"ğŸ”Š Leer",placeholderOut:"El texto aparecerÃ¡ aquÃ­â€¦"},
    ar:{loadTxtBtn:"ğŸ“ Ù…Ù„Ù",outTitle:"Ø§Ù„Ù†Øµ :",readBtn:"ğŸ”Š Ø§Ø³ØªÙ…Ø¹",placeholderOut:"Ø³ÙŠØ¸Ù‡Ø± Ø§Ù„Ù†Øµ Ù‡Ù†Ø§â€¦"},
    zh:{loadTxtBtn:"ğŸ“ æ–‡ä»¶",outTitle:"æ–‡æœ¬ :",readBtn:"ğŸ”Š æœ—è¯»",placeholderOut:"æ–‡æœ¬å°†å‡ºç°åœ¨è¿™é‡Œâ€¦"},
    it:{loadTxtBtn:"ğŸ“ File",outTitle:"Testo :",readBtn:"ğŸ”Š Ascolta",placeholderOut:"Il testo apparirÃ  quiâ€¦"},
    de:{loadTxtBtn:"ğŸ“ Datei",outTitle:"Text :",readBtn:"ğŸ”Š Vorlesen",placeholderOut:"Text erscheint hierâ€¦"},
    pt:{loadTxtBtn:"ğŸ“ Arquivo",outTitle:"Texto :",readBtn:"ğŸ”Š Ouvir",placeholderOut:"O texto aparecerÃ¡ aquiâ€¦"},
    ru:{loadTxtBtn:"ğŸ“ Ğ¤Ğ°Ğ¹Ğ»",outTitle:"Ğ¢ĞµĞºÑÑ‚ :",readBtn:"ğŸ”Š Ğ¡Ğ»ÑƒÑˆĞ°Ñ‚ÑŒ",placeholderOut:"Ğ¢ĞµĞºÑÑ‚ Ğ¿Ğ¾ÑĞ²Ğ¸Ñ‚ÑÑ Ğ·Ğ´ĞµÑÑŒâ€¦"}
  };

  const langSel=document.getElementById('langSel');
  const els={loadTxtBtn:document.getElementById('loadTxtBtn'),outTitle:document.getElementById('outTitle'),readBtn:document.getElementById('readBtn'),out:document.getElementById('out')};
  function setLang(l){
    const t=texts[l];
    Object.keys(t).forEach(k=>{if(els[k])els[k].textContent=t[k];});
    els.out.placeholder=t.placeholderOut;
    localStorage.setItem('txtLang',l);
  }
  langSel.onchange=()=>setLang(langSel.value);
  const saved=localStorage.getItem('txtLang'); if(saved) langSel.value=saved;
  setLang(langSel.value);

  /* Charger un fichier texte */
  const loadTxtBtn=document.getElementById('loadTxtBtn');
  const txtInput=document.getElementById('txtInput');
  const out=document.getElementById('out');
  const readBtn=document.getElementById('readBtn');

  loadTxtBtn.onclick=()=>txtInput.click();
  txtInput.onchange=e=>{
    const file=txtInput.files[0];
    if(!file) return;
    const reader=new FileReader();
    reader.onload=ev=>{ out.value=ev.target.result; };
    reader.readAsText(file);
  };

  /* Lecture vocale */
  readBtn.onclick=()=>{
    const u=new SpeechSynthesisUtterance(out.value);
    u.lang='fr-FR';
    speechSynthesis.speak(u);
  };
</script>

</body>
</html>
